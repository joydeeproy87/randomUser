<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Fetch API</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
	<style>
		#authors {
			padding-left: 0;
		}
	</style>
</head>
<body class="container">
	<h1 class="display-4 text-center">RandomUser API - Sample Cards</h1>
	<ul id="authors" class="row justify-content-center"></ul>

	<script>
		const ul = document.getElementById('authors');
		const url = 'https://randomuser.me/api?results=10';

		function createNode(element) {
			return document.createElement(element);
		}
		function append(parent, element) {
			return parent.appendChild(element);
		}

		fetch(url)
		.then((resp) => resp.json())
		.then(function(data) {
			let authors = data.results;
			return authors.map(function(author) {
				let li = createNode('li'),
					img = createNode('img'),
					span = createNode('span');

				li.setAttribute('class', 'card col-2 mt-3 ml-3 pl-0 pr-0');
				img.setAttribute('class', 'card-img-top');
				span.setAttribute('class', 'card-body');

				img.src = author.picture.large;
				span.innerHTML = `${author.name.first} ${author.name.last}`;

				append(li, img);
				append(li, span);
				append(ul, li);
			})
		})
	</script>
</body>
</html>
